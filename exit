warning: LF will be replaced by CRLF in Common/MV.js.
The file will have its original line endings in your working directory.
[1mdiff --git a/Bender.html b/Bender.html[m
[1mindex 3a6103e..5c8fea1 100644[m
[1m--- a/Bender.html[m
[1m+++ b/Bender.html[m
[36m@@ -2,7 +2,42 @@[m
 <html>[m
 <head>[m
 <meta charset="UTF-8">[m
[31m-<title>Bender</title>[m
[32m+[m[32m<title>Space Bender</title>[m
[32m+[m
[32m+[m[32m<script type="x-shader/x-vertex" id="vshaderbox">[m
[32m+[m[32m     uniform mat4 projection;[m
[32m+[m[32m     uniform mat4 modelview;[m
[32m+[m
[32m+[m[32m     attribute vec3 vcoords;[m
[32m+[m[32m     attribute vec3 vnormal;[m
[32m+[m[32m     attribute vec2 vtexcoord;[m
[32m+[m
[32m+[m[32m     varying vec3 fCoords;[m
[32m+[m
[32m+[m[32m     void main() {[m
[32m+[m[32m        vec2 tmp = vtexcoord;[m
[32m+[m[32m        vec3 tmp2 = vnormal;[m
[32m+[m[32m   // inserted only to map texcoord and normal in this shader[m[41m [m
[32m+[m[32m   // (required since models uses texture coordinates even though[m[41m [m
[32m+[m[32m   //   we will not use them in this shader)[m
[32m+[m
[32m+[m[32m        vec4 eyeCoords = modelview * vec4(vcoords,1.0);[m
[32m+[m[32m        gl_Position = projection * eyeCoords;[m
[32m+[m[32m        fCoords = vcoords;//gl_Position.xyz;[m
[32m+[m[32m     }[m
[32m+[m[32m</script>[m
[32m+[m
[32m+[m[32m<script type="x-shader/x-fragment" id="fshaderbox">[m
[32m+[m[32m     precision mediump float;[m
[32m+[m
[32m+[m[32m     varying vec3 fCoords;[m
[32m+[m
[32m+[m[32m     uniform samplerCube skybox;[m
[32m+[m
[32m+[m[32m     void main() {[m
[32m+[m[32m          gl_FragColor = textureCube(skybox, fCoords);[m
[32m+[m[32m     }[m
[32m+[m[32m</script>[m
 [m
 <script type="x-shader/x-vertex" id="vshader">[m
   uniform mat4 projection;[m
[36m@@ -86,20 +121,10 @@[m
 </head>[m
 <body style="background-color:#DDD">[m
 [m
[31m-<h1>WebGL - Bender et mod&egrave;le de Phong</h1>[m
[31m-[m
[31m-<h2>Utilisez la souris pour faire tourner les objets</h2>[m
 <noscript><hr><h3>This page requires Javascript and a web browser that supports WebGL</h3><hr></noscript>[m
 [m
[31m-<table>[m
[31m-  <tr>[m
[31m-    <th>[m
[31m-      <canvas width=800 height=800 id="glcanvas" style="background-color:blue"></canvas>[m
[31m-    </th>[m
[31m-    <th>[m
[31m-      <img src="BenderParts.jpg" alt="Bender"/>[m
[31m-    </th>[m
[31m-</table>[m
[32m+[m[32m  <canvas width=800 height=800 id="glcanvas" style="background-color:blue"></canvas>[m
[32m+[m
 [m
 </body>[m
 </html>[m
\ No newline at end of file[m
[1mdiff --git a/Bender.js b/Bender.js[m
[1mindex 49fc838..ba0df12 100644[m
[1m--- a/Bender.js[m
[1m+++ b/Bender.js[m
[36m@@ -6,6 +6,12 @@[m [mvar CoordsLoc;[m
 var NormalLoc;[m
 var TexCoordLoc;[m
 [m
[32m+[m[32mvar aCoordsbox;[m
[32m+[m[32mvar aNormalbox;[m
[32m+[m[32mvar aTexCoordbox;[m
[32m+[m[32mvar uModelviewbox;[m
[32m+[m[32mvar uProjectionbox;[m
[32m+[m
 var ProjectionLoc;[m
 var ModelviewLoc;[m
 var NormalMatrixLoc;[m
[36m@@ -13,7 +19,6 @@[m [mvar NormalMatrixLoc;[m
 var cursor = [];[m
 var benderLegsFlaFla = [];[m
 var benderArmsFlaFla = [];[m
[31m-var benderArrows = [];[m
 [m
 var projection;[m
 var modelview;[m
[36m@@ -31,7 +36,7 @@[m [mvar quartersphereinside, quartersphereoutside;[m
 [m
 var prog; [m
 [m
[31m-var lightPosition = vec4(20.0, 20.0, 100.0, 1.0);[m
[32m+[m[32mvar lightPosition = vec4(20.0, 20.0, 40.0, 1.0);[m
 [m
 var lightAmbient = vec4(1.0, 1.0, 1.0, 1.0);[m
 var lightDiffuse = vec4(1.0, 1.0, 1.0, 1.0);[m
[36m@@ -49,11 +54,11 @@[m [mvar greyAmbient = vec4(0.3, 0.3, 0.3, 1.0);[m
 var greyDiffuse = vec4(0.3, 0.3, 0.3, 1.0);[m
 var greySpecular = vec4(0.5, 0.5, 0.5, 1.0);[m
 [m
[31m-var greenAmbient = vec4(0, 0.7, 0, 1);[m
[31m-var greenDiffuse = vec4(0.3, 0.3, 0.3, 1);[m
[31m-var greenSpecular = vec4(0.5, 0.5, 0.5, 1);[m
[32m+[m[32mvar greenAmbient = vec4(0, 1, 0, 1);[m
[32m+[m[32mvar greenDiffuse = vec4(0.75, 0.75, 0.75, 1);[m
[32m+[m[32mvar greenSpecular = vec4(0.9, 0.9, 0.9, 1);[m
 [m
[31m-var goldAmbient = vec4(.9, .9, .5, 1);[m
[32m+[m[32mvar goldAmbient = vec4(.9, .9, 0, 1);[m
 var goldDiffuse = vec4(0.5, 0.5, 0, 1);[m
 var goldSpecular = vec4(0.5, 0.5, 0.5, 1);[m
 [m
[36m@@ -72,16 +77,12 @@[m [mvar headTopId = 5; var antennaId = 6; var antennaTopId = 7; var antennaPopId = 8[m
 var rightArmId = 10; var leftHandId = 11; var rightHandID = 12; var leftLegId = 13; var rightLegId = 14;[m
 var leftFootId = 15; var rightFootId = 16; var leftHandDiskId = 17; var rightHandDiskId = 18; var leftFootDiskId = 19;[m
 var rightFootDiskId = 20; var leftLegJointsId = 21; var rightLegJointsId = 22; var leftArmJointsId = 23; var rightArmJointsId = 24;[m
[31m-var legLeftClip1Id = 25; var legLeftClip2Id = 26; var legRightClip1Id = 27; var legRightClip2Id = 28; var handLeftfinger1Id = 29;[m
[31m-var handLeftfinger2Id = 30; var handLeftfinger3Id = 31; var handRightfinger1Id = 32; var handRightfinger2Id = 33; var handRightfinger3Id = 34;[m
[31m-var VisiereId = 35; var leftEyeId = 36; var rightEyeId = 37; var eyeHolesId = 38; var mouthPieceId = 39; [m
[31m-var cigarId = 40; var leftArmPitId = 41; var rightArmPitId = 42; var neckHoleId = 43; var antennaHoleId = 44;[m
[31m-var cigarBurnId = 45; var torsoHoleId = 46; var neckArrowId = 47; var antennaArrowId = 48; var cigarArrowId = 49;[m
[31m-var leftLegArrowId = 50; var rightLegArrowId = 51; var beer1Id = 52; var beer2Id = 53; var beer3Id = 54;[m
[31m-var beer4Id = 55; var beer5Id = 56; var popcornBoxId = 57; var popcornId = 58; var torsoArrowId = 59;[m
[31m-var goldPileId = 60; var TorsoDoorId = 61;[m
[32m+[m[32mvar handLeftfinger1Id = 25; var handLeftfinger2Id = 26; var handLeftfinger3Id = 27; var handRightfinger1Id = 28; var handRightfinger2Id = 29;[m
[32m+[m[32mvar handRightfinger3Id = 30; var VisiereId = 31; var leftEyeId = 32; var rightEyeId = 33; var eyeHolesId = 34;[m
[32m+[m[32mvar mouthPieceId = 35; var cigarId = 36; var cigarBurnId = 37; var beer1Id = 38; var beer2Id = 39;[m[41m [m
[32m+[m[32mvar beer3Id = 40; var beer4Id = 41; var beer5Id = 42; var popcornBoxId = 43; var popcornId = 44;[m[41m [m
 [m
[31m-var numNodes = 62;[m
[32m+[m[32mvar numNodes = 45;[m
 [m
 for( var i=0; i<numNodes; i++) figure[i] = createNode( null, null, null);[m
 [m
[36m@@ -89,8 +90,13 @@[m [mvar noTexLoc;[m
 [m
 var metal, mouth, cigarTex, eyes, burn, popcornBoxTex, goldTex, popcornTex;[m
 [m
[32m+[m[32mvar skybox, progbox, uEnvbox, texIDmap0;[m
[32m+[m[32mvar img = new Array(6);[m
[32m+[m[32mvar ct = 0;[m
[32m+[m
 function torso()[m
 {[m
[32m+[m[32m    gl.useProgram(prog);[m
     whiteMaterial();[m
 [m
     gl.uniform1i(noTexLoc, 1);[m
[36m@@ -106,6 +112,17 @@[m [mfunction torso()[m
     modelview = mult(modelview, scale(1.1, 1.1, 1.75));[m
 [m
     cylinder.render();    [m
[32m+[m
[32m+[m[32m    greyMaterial();[m
[32m+[m
[32m+[m[32m    modelview = initialmodelview;[m
[32m+[m[32m    modelview = mult(modelview, translate(3,5,4.25));[m
[32m+[m[32m    modelview = mult(modelview, rotate(30.0, 0, 1, 0));[m
[32m+[m[32m    normalMatrix = extractNormalMatrix(modelview);[m
[32m+[m[32m    modelview = mult(modelview, scale(0.08,0.08, 0.065));[m
[32m+[m[32m    cylinder.render();[m
[32m+[m
[32m+[m[32m    whiteMaterial();[m
 }[m
 [m
 function neck()[m
[36m@@ -123,7 +140,7 @@[m [mfunction neck()[m
 function head()[m
 {[m
     modelview = initialmodelview;[m
[31m-    modelview = mult(modelview, translate(0.0,22.0,0.0));[m
[32m+[m[32m    modelview = mult(modelview, translate(0.0,19.0,0.0));[m
     modelview = mult(modelview, rotate(90.0, 1, 0, 0));[m
     normalMatrix = extractNormalMatrix(modelview);[m
     modelview = mult(modelview, scale(0.65, 0.65, 0.75));[m
[36m@@ -133,7 +150,7 @@[m [mfunction head()[m
 function headTop()[m
 {[m
     modelview = initialmodelview;[m
[31m-    modelview = mult(modelv